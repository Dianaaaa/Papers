# 算法描述
## 书本边框检测
- 图片二值处理
- 最大连通域检测方法 （获取书本封面区域）
  （首先把连通像素线段作为最小处理单元，扫描待测书本封面和书库封面的像素，过程中检测相邻两行像素线段之间的连通性，根据检测结果对连通线段进行标记。选择像素点个数最多的标记区域为最大联通域。->**书本区域图像**）
- 像素扫描法 （从上下左右四个方向扫描书本区域图像，得到书本四条边缘的点集（4））
- 最小二乘法（得到书本边缘直线方程）
    - 两次直线拟合法（消除“奇异点”的影响）
## 基于书本宽高比的预匹配
- 书本宽高比$\alpha$
- 书库书本宽高比$\beta_i$
- 计算$u_i = |\alpha - \beta_i|$
- 从书库中筛选$u_i$小于阈值$u_0$（一般取$6\%$)的书本

## 特征点检测
- 自适应的Harris角点检测算法
  - 克服传统Harris角点检测算法需要人为设定阈值的缺陷
  - 对图像分块求取兴趣值R
    $$ M = G \otimes \left[ 
        \begin{matrix} 
        I_x^2 & I_x \cdot I_y  \\
        I_x \cdot I_y & I_y^2 
        \end{matrix}\right]
        = \left[\begin{matrix}
        A & C\\
        C & B
        \end{matrix}\right]\tag1$$
    $$[ G = exp(-\frac{(x^2 + y^2)}{2\sigma^2}),I_x、I_y是一阶方向微分]$$
    $$R(x,y) det[M(x,y)]-k\cdot trace^2[M(x,y)]\tag2$$

  -  选取兴趣值R极大的点作为角点。
- 为实现角点均匀分步，采用循环迭代法求解k值。
- 为克服角点聚簇发生，采用邻近角点剔除。
## 特征点匹配
- 区域划分法
- 迭代最近点法
- 几何哈希法
- 线段映射法（初匹配）
- 几何散列法（精确匹配）
#### 线段匹配
分块，每块特征点两两组成线段，建立映射关系。
#### 特征点匹配
利用互最近点关系完成匹配。
